(()=>{"use strict";class t{constructor(t){this.value=t,this.next=null}}class e{constructor(){this.head=null,this.tail=null}append(e){const n=new t(e);this.head?(this.tail.next=n,this.tail=n):(this.head=n,this.tail=n)}prepend(e){const n=new t(e);this.head?(n.next=this.head,this.head=n):(this.head=n,this.tail=n)}size(){let t=0,e=this.head;for(;!this.head;)t++,e=e.next;return t}head(){return this.head?this.head:null}tail(){return this.tail?this.tail:null}at(t){if(t<0)return null;if(this.head){let e=this.head,n=0;for(;n<t;)n++,e=e.next;return e||null}}pop(){if(!this.tail)return console.log("No item to pop"),null;const t=this.tail.value;if(this.head===this.tail)return this.head=null,this.tail=null,t;let e=this.head;for(;e.next!==this.tail;)e=e.next;return e.next=null,this.tail=e,t}contains(t){let e=this.head;for(;null!==e.next;){if(e.value===t)return!0;e=e.next}return!1}find(t){let e=this.head,n=0;for(;e;){if(e.value===t)return n;e=e.next,n++}return-1}toString(){let t="";if(this.head){let e=this.head;for(;e;){if(null===e.next)return t+"null";t+=`( ${e.value} ) -> `,e=e.next}return t}return null}insertAt(e,n){if(n<0)return null;const i=new t(e);if(0===n)return i.next=this.head,this.head=i,this.tail||(this.tail=i),!0;let h=this.head,l=0;for(;h&&l<n-1;)h=h.next,l++;return!!h&&(i.next=h.next,h.next=i,i.next||(this.tail=i),!0)}removeAt(t){if(t<0||!this.head)return null;if(0===t){const t=this.head.value;return this.head=this.head.next,this.head||(this.tail=null),t}let e=this.head,n=0;for(;e.next&&n<t-1;)e=e.next,n++;if(!e.next)return null;const i=e.next.value;return e.next=e.next.next,e.next||(this.tail=e),i}}const n=new class{constructor(t=8){this.buckets=new Array(t).fill(null).map((()=>new e)),this.size=0,this.loadFactor=.75}hash(t){let e=0;for(let n=0;n<t.length;n++)e=(31*e+t.charCodeAt(n))%this.buckets.length;return e}set(t,e){}};console.log(n.hash("Yorkshire"))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UVEsT0FFM0UsT0FBT0QsQ0FDWCxDQUVBLEdBQUFHLENBQUlKLEVBQUtqQyxHQUVULEdEbEJKZSxRQUFRQyxJQUFJUyxFQUFRTyxLQUFLLGEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcGlkZW1vLy4vc3JjL2xpbmtlZExpc3QuanMiLCJ3ZWJwYWNrOi8vYXBpZGVtby8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9hcGlkZW1vLy4vc3JjL2hhc2hNYXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKXtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpbmtlZExpc3Qge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmhlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLnRhaWwgPSBudWxsO1xuICAgIH1cblxuICAgIGFwcGVuZCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBuZXdOb2RlID0gbmV3IE5vZGUodmFsdWUpO1xuICAgICAgICBpZighdGhpcy5oZWFkKXtcbiAgICAgICAgICAgIC8vIElmIHRoZSBsaXN0IGlzIG51bGwvZW1wdHksIHRoZSBuZXcgbm9kZSBpcyBib3RoIHRoZSBoZWFkIGFuZCB0YWlsXG4gICAgICAgICAgICB0aGlzLmhlYWQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgdGhpcy50YWlsID0gbmV3Tm9kZTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgdGhpcy50YWlsLm5leHQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgdGhpcy50YWlsID0gbmV3Tm9kZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByZXBlbmQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbmV3Tm9kZSA9IG5ldyBOb2RlKHZhbHVlKTtcbiAgICAgICAgaWYoIXRoaXMuaGVhZCkge1xuICAgICAgICAgICAgdGhpcy5oZWFkID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIHRoaXMudGFpbCA9IG5ld05vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdOb2RlLm5leHQgPSB0aGlzLmhlYWQ7XG4gICAgICAgICAgICB0aGlzLmhlYWQgPSBuZXdOb2RlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2l6ZSgpe1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGxldCBjdXJyZW50Tm9kZSA9IHRoaXMuaGVhZDtcbiAgICAgICAgd2hpbGUoIXRoaXMuaGVhZCl7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuXG4gICAgaGVhZCgpe1xuICAgICAgICBpZih0aGlzLmhlYWQpe1xuICAgICAgICAgICAgY29uc3QgaGVhZE5vZGUgPSB0aGlzLmhlYWQ7XG4gICAgICAgICAgICByZXR1cm4gaGVhZE5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRhaWwoKXtcbiAgICAgICAgaWYodGhpcy50YWlsKXtcbiAgICAgICAgICAgIGNvbnN0IHRhaWxOb2RlID0gdGhpcy50YWlsO1xuICAgICAgICAgICAgcmV0dXJuIHRhaWxOb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhdChpbmRleCl7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHJldHVybiBudWxsOyAvLyBJbmRleCBzaG91bGQgYmUgbm9uLW5lZ2F0aXZlXG4gICAgICAgIGlmKHRoaXMuaGVhZCkge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnROb2RlID0gdGhpcy5oZWFkO1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgd2hpbGUoaSA8IGluZGV4KXtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnROb2RlID8gY3VycmVudE5vZGUgOiBudWxsOyAvLyBSZXR1cm4gdGhlIG5vZGUgaWYgZm91bmQsIGVsc2UgbnVsbFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcG9wKCl7XG4gICAgICAgIGlmICghdGhpcy50YWlsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGl0ZW0gdG8gcG9wXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb3BwZWRWYWx1ZSA9IHRoaXMudGFpbC52YWx1ZTtcblxuICAgICAgICBpZiAodGhpcy5oZWFkID09PSB0aGlzLnRhaWwpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgb25seSBvbmUgbm9kZSBpbiB0aGUgbGlzdFxuICAgICAgICAgICAgdGhpcy5oZWFkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudGFpbCA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gcG9wcGVkVmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudE5vZGUgPSB0aGlzLmhlYWQ7XG4gICAgICAgIHdoaWxlKGN1cnJlbnROb2RlLm5leHQgIT09IHRoaXMudGFpbCl7XG4gICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm93IGN1cnJlbnROb2RlIGlzIHRoZSBzZWNvbmQtdG8tbGFzdCBub2RlXG4gICAgICAgIGN1cnJlbnROb2RlLm5leHQgPSBudWxsO1xuICAgICAgICB0aGlzLnRhaWwgPSBjdXJyZW50Tm9kZTtcblxuICAgICAgICByZXR1cm4gcG9wcGVkVmFsdWU7XG4gICAgfVxuXG4gICAgY29udGFpbnModmFsdWUpIHtcbiAgICAgICAgbGV0IGN1cnJlbnROb2RlID0gdGhpcy5oZWFkO1xuICAgICAgICB3aGlsZShjdXJyZW50Tm9kZS5uZXh0ICE9PSBudWxsKXtcbiAgICAgICAgICAgIGlmKGN1cnJlbnROb2RlLnZhbHVlID09PSB2YWx1ZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZmluZCh2YWx1ZSkge1xuICAgICAgICBsZXQgY3VycmVudE5vZGUgPSB0aGlzLmhlYWQ7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgd2hpbGUoY3VycmVudE5vZGUpe1xuICAgICAgICAgICAgaWYoY3VycmVudE5vZGUudmFsdWUgPT09IHZhbHVlKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dDtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKXtcbiAgICAgICAgbGV0IG91dHB1dCA9IFwiXCJcbiAgICAgICAgaWYoIXRoaXMuaGVhZCl7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50Tm9kZSA9IHRoaXMuaGVhZDtcbiAgICAgICAgICAgIHdoaWxlKGN1cnJlbnROb2RlKXtcbiAgICAgICAgICAgICAgICBpZihjdXJyZW50Tm9kZS5uZXh0ID09PSBudWxsKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dCArPSBcIm51bGxcIiA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ICs9IGAoICR7Y3VycmVudE5vZGUudmFsdWV9ICkgLT4gYDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5uZXh0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluc2VydEF0KHZhbHVlLCBpbmRleCl7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHJldHVybiBudWxsO1xuXG4gICAgICAgIGNvbnN0IG5ld05vZGUgPSBuZXcgTm9kZSh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAvLyBJbnNlcnQgYXQgdGhlIGhlYWRcbiAgICAgICAgICAgIG5ld05vZGUubmV4dCA9IHRoaXMuaGVhZDtcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IG5ld05vZGU7XG4gICAgICAgICAgICBpZiAoIXRoaXMudGFpbCkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGUgbGlzdCB3YXMgZW1wdHksIHVwZGF0ZSB0aGUgdGFpbCBhcyB3ZWxsXG4gICAgICAgICAgICAgIHRoaXMudGFpbCA9IG5ld05vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW50Tm9kZSA9IHRoaXMuaGVhZDtcbiAgICAgICAgbGV0IGkgPSAwO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50Tm9kZSAmJiBpIDwgaW5kZXggLSAxKSB7XG4gICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLm5leHQ7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWN1cnJlbnROb2RlKSByZXR1cm4gZmFsc2U7IC8vIEluZGV4IGlzIG91dCBvZiBib3VuZHNcbiAgICAgICAgXG4gICAgICAgIG5ld05vZGUubmV4dCA9IGN1cnJlbnROb2RlLm5leHQ7XG4gICAgICAgIGN1cnJlbnROb2RlLm5leHQgPSBuZXdOb2RlO1xuICAgIFxuICAgICAgICBpZiAoIW5ld05vZGUubmV4dCkge1xuICAgICAgICAgIC8vIElmIHRoZSBuZXcgbm9kZSBpcyBpbnNlcnRlZCBhdCB0aGUgZW5kLCB1cGRhdGUgdGhlIHRhaWxcbiAgICAgICAgICB0aGlzLnRhaWwgPSBuZXdOb2RlO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgXG4gICAgLy8gTWV0aG9kIHRvIHJlbW92ZSBhIG5vZGUgYXQgYSBzcGVjaWZpYyBpbmRleFxuICAgIHJlbW92ZUF0KGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgIXRoaXMuaGVhZCkgcmV0dXJuIG51bGw7IC8vIEluZGV4IGlzIGludmFsaWQgb3IgbGlzdCBpcyBlbXB0eVxuXG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBoZWFkIG5vZGVcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZWRWYWx1ZSA9IHRoaXMuaGVhZC52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IHRoaXMuaGVhZC5uZXh0O1xuICAgICAgICAgICAgaWYgKCF0aGlzLmhlYWQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbGlzdCBiZWNvbWVzIGVtcHR5LCB1cGRhdGUgdGhlIHRhaWxcbiAgICAgICAgICAgICAgICB0aGlzLnRhaWwgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZWRWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW50Tm9kZSA9IHRoaXMuaGVhZDtcbiAgICAgICAgbGV0IGkgPSAwO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50Tm9kZS5uZXh0ICYmIGkgPCBpbmRleCAtIDEpIHtcbiAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dDtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY3VycmVudE5vZGUubmV4dCkgcmV0dXJuIG51bGw7IC8vIEluZGV4IGlzIG91dCBvZiBib3VuZHNcblxuICAgICAgICBjb25zdCByZW1vdmVkVmFsdWUgPSBjdXJyZW50Tm9kZS5uZXh0LnZhbHVlO1xuICAgICAgICBjdXJyZW50Tm9kZS5uZXh0ID0gY3VycmVudE5vZGUubmV4dC5uZXh0O1xuXG4gICAgICAgIGlmICghY3VycmVudE5vZGUubmV4dCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHJlbW92ZWQgbm9kZSB3YXMgdGhlIHRhaWwsIHVwZGF0ZSB0aGUgdGFpbFxuICAgICAgICAgICAgdGhpcy50YWlsID0gY3VycmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVtb3ZlZFZhbHVlO1xuICAgIH1cbn1cblxuLy8gRXhhbXBsZSB1c2FnZTpcbi8vIGNvbnN0IGxpc3QgPSBuZXcgTGlua2VkTGlzdCgpO1xuLy8gbGlzdC5hcHBlbmQoMSk7XG4vLyBsaXN0LmFwcGVuZCgyKTtcbi8vIGxpc3QuYXBwZW5kKDMpO1xuLy8gbGlzdC5wcmVwZW5kKDApO1xuXG4vLyBsaXN0Lmluc2VydEF0KDEuNSwgMik7XG4vLyBjb25zb2xlLmxvZygnTGlua2VkTGlzdDonLCBsaXN0LnRvU3RyaW5nKCkpOyAvLyBPdXRwdXQ6ICggMCApIC0+ICggMSApIC0+ICggMS41ICkgLT4gKCAyICkgLT4gKCAzICkgLT4gbnVsbFxuXG4vLyBsaXN0LnJlbW92ZUF0KDIpO1xuLy8gY29uc29sZS5sb2coJ0xpbmtlZExpc3QgYWZ0ZXIgcmVtb3ZhbDonLCBsaXN0LnRvU3RyaW5nKCkpOyAvLyBPdXRwdXQ6ICggMCApIC0+ICggMSApIC0+ICggMiApIC0+ICggMyApIC0+IG51bGxcblxuLy8gbGlzdC5yZW1vdmVBdCgwKTtcbi8vIGNvbnNvbGUubG9nKCdMaW5rZWRMaXN0IGFmdGVyIHJlbW92aW5nIGhlYWQ6JywgbGlzdC50b1N0cmluZygpKTsgLy8gT3V0cHV0OiAoIDEgKSAtPiAoIDIgKSAtPiAoIDMgKSAtPiBudWxsXG5cbi8vIGxpc3QucmVtb3ZlQXQoMik7XG4vLyBjb25zb2xlLmxvZygnTGlua2VkTGlzdCBhZnRlciByZW1vdmluZyB0YWlsOicsIGxpc3QudG9TdHJpbmcoKSk7IC8vIE91dHB1dDogKCAxICkgLT4gKCAyICkgLT4gbnVsbCIsImltcG9ydCB7IExpbmtlZExpc3QsIE5vZGUgfSBmcm9tIFwiLi9saW5rZWRMaXN0XCI7XG5pbXBvcnQgeyBIYXNoTWFwIH0gZnJvbSBcIi4vaGFzaE1hcFwiXG5cbmNvbnN0IGhhc2htYXAgPSBuZXcgSGFzaE1hcCgpO1xuXG5jb25zb2xlLmxvZyhoYXNobWFwLmhhc2goXCJZb3Jrc2hpcmVcIikpO1xuXG4vL2lmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gYnVja2V0cy5sZW5ndGgpIHtcbi8vICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gYWNjZXNzIGluZGV4IG91dCBvZiBib3VuZFwiKTtcbi8vIH1cblxuLy8gY2xhc3MgTm9kZSB7XG4vLyAgICAgY29uc3RydWN0b3Ioa2V5LCB2YWx1ZSwgbmV4dCA9IG51bGwpIHtcbi8vICAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4vLyAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbi8vICAgICAgICAgdGhpcy5uZXh0ID0gbmV4dDtcbi8vICAgICB9XG4vLyB9XG5cbi8vSSBjb3VsZCBwcm9iYWJseSBqdXN0IHJldXNlIHRoZSBsaW5rZWQgbGlzdCBJIG1hZGUgaW4gaHR0cHM6Ly9naXRodWIuY29tL0RyRXBpY28vTGlua2VkTGlzdC9ibG9iL21haW4vc3JjL2luZGV4LmpzIG9uIGEgc2VwYXJhdGUgc2NyaXB0IGZpbGUgXG4vLyBjbGFzcyBMaW5rZWRMaXN0IHtcbi8vICAgICBjb25zdHJ1Y3RvcigpIHtcbi8vICAgICAgICAgdGhpcy5oZWFkID0gbnVsbDtcbi8vICAgICB9XG4gIFxuICAgIC8vIEluc2VydCBhIG5ldyBub2RlIG9yIHVwZGF0ZSBhbiBleGlzdGluZyBub2RlXG4gICAgLy8gaW5zZXJ0KGtleSwgdmFsdWUpIHtcbiAgICAvLyAgICAgbGV0IG5vZGUgPSB0aGlzLmhlYWQ7XG4gICAgLy8gICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgLy8gICAgICAgICBpZiAobm9kZS5rZXkgPT09IGtleSkge1xuICAgIC8vICAgICAgICAgICAgIG5vZGUudmFsdWUgPSB2YWx1ZTsgLy8gVXBkYXRlIGV4aXN0aW5nIGtleVxuICAgIC8vICAgICAgICAgICAgIHJldHVybjtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIG5vZGUgPSBub2RlLm5leHQ7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgY29uc3QgbmV3Tm9kZSA9IG5ldyBOb2RlKGtleSwgdmFsdWUsIHRoaXMuaGVhZCk7XG4gICAgLy8gICAgIHRoaXMuaGVhZCA9IG5ld05vZGU7IC8vIEluc2VydCBuZXcgbm9kZSBhdCB0aGUgaGVhZFxuICAgIC8vIH1cbiAgXG4gICAgLy8gLy8gRmluZCBhIG5vZGUgYnkga2V5XG4gICAgLy8gZmluZChrZXkpIHtcbiAgICAvLyAgICAgbGV0IG5vZGUgPSB0aGlzLmhlYWQ7XG4gICAgLy8gICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgLy8gICAgICAgICBpZiAobm9kZS5rZXkgPT09IGtleSkge1xuICAgIC8vICAgICAgICAgICAgIHJldHVybiBub2RlLnZhbHVlO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICByZXR1cm4gbnVsbDtcbiAgICAvLyB9XG4gIFxuICAgIC8vIC8vIENoZWNrIGlmIGEga2V5IGV4aXN0c1xuICAgIC8vIGhhcyhrZXkpIHtcbiAgICAvLyAgICAgbGV0IG5vZGUgPSB0aGlzLmhlYWQ7XG4gICAgLy8gICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgLy8gICAgICAgICBpZiAobm9kZS5rZXkgPT09IGtleSkge1xuICAgIC8vICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gfVxuICBcbiAgICAvLyAvLyBSZW1vdmUgYSBub2RlIGJ5IGtleVxuICAgIC8vIHJlbW92ZShrZXkpIHtcbiAgICAvLyAgICAgbGV0IG5vZGUgPSB0aGlzLmhlYWQ7XG4gICAgLy8gICAgIGxldCBwcmV2ID0gbnVsbDtcbiAgICAvLyAgICAgd2hpbGUgKG5vZGUgIT09IG51bGwpIHtcbiAgICAvLyAgICAgICAgIGlmIChub2RlLmtleSA9PT0ga2V5KSB7XG4gICAgLy8gICAgICAgICAgICAgaWYgKHByZXYgPT09IG51bGwpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5oZWFkID0gbm9kZS5uZXh0O1xuICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHByZXYubmV4dCA9IG5vZGUubmV4dDtcbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICBwcmV2ID0gbm9kZTtcbiAgICAvLyAgICAgICAgIG5vZGUgPSBub2RlLm5leHQ7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIH1cbi8vIH1cblxuIiwiaW1wb3J0IHsgTGlua2VkTGlzdCwgTm9kZSB9IGZyb20gXCIuL2xpbmtlZExpc3RcIjtcblxuLy9odHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PUg2MkpmdjFESmxVXG5leHBvcnQgY2xhc3MgSGFzaE1hcCB7XG4gICAgY29uc3RydWN0b3IoaW5pdGlhbENhcGFjaXR5ID0gOCkge1xuICAgICAgICB0aGlzLmJ1Y2tldHMgPSBuZXcgQXJyYXkoaW5pdGlhbENhcGFjaXR5KS5maWxsKG51bGwpLm1hcCgoKSA9PiBuZXcgTGlua2VkTGlzdCgpKTsgXG4gICAgICAgIC8vbWFwKCgpID0+IG5ldyBMaW5rZWRMaXN0KCkgVHJhbnNmb3JtcyBlYWNoIG51bGwgdmFsdWUgaW50byBhbiBlbXB0eSBsaW5rZWQgbGlzdC5cbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgdGhpcy5sb2FkRmFjdG9yID0gMC43NTtcbiAgICB9XG4gIFxuICAgIC8vIEhhc2ggZnVuY3Rpb25cbiAgICBoYXNoKGtleSkge1xuICAgICAgICBsZXQgaGFzaENvZGUgPSAwO1xuICAgICAgICBjb25zdCBwcmltZU51bWJlciA9IDMxO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaGFzaENvZGUgPSAocHJpbWVOdW1iZXIgKiBoYXNoQ29kZSArIGtleS5jaGFyQ29kZUF0KGkpKSAlIHRoaXMuYnVja2V0cy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhc2hDb2RlO1xuICAgIH1cblxuICAgIHNldChrZXksIHZhbHVlKXtcbiAgICAgICAgXG4gICAgfVxufSJdLCJuYW1lcyI6WyJOb2RlIiwiY29uc3RydWN0b3IiLCJ2YWx1ZSIsInRoaXMiLCJuZXh0IiwiTGlua2VkTGlzdCIsImhlYWQiLCJ0YWlsIiwiYXBwZW5kIiwibmV3Tm9kZSIsInByZXBlbmQiLCJzaXplIiwiaSIsImN1cnJlbnROb2RlIiwiYXQiLCJpbmRleCIsInBvcCIsImNvbnNvbGUiLCJsb2ciLCJwb3BwZWRWYWx1ZSIsImNvbnRhaW5zIiwiZmluZCIsInRvU3RyaW5nIiwib3V0cHV0IiwiaW5zZXJ0QXQiLCJyZW1vdmVBdCIsInJlbW92ZWRWYWx1ZSIsImhhc2htYXAiLCJpbml0aWFsQ2FwYWNpdHkiLCJidWNrZXRzIiwiQXJyYXkiLCJmaWxsIiwibWFwIiwibG9hZEZhY3RvciIsImhhc2giLCJrZXkiLCJoYXNoQ29kZSIsImxlbmd0aCIsImNoYXJDb2RlQXQiLCJzZXQiXSwic291cmNlUm9vdCI6IiJ9