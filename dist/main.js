(()=>{"use strict";class t{constructor(t){this.value=t,this.next=null}}const e=new class{constructor(){this.head=null,this.tail=null}append(e){const n=new t(e);this.head?(this.tail.next=n,this.tail=n):(this.head=n,this.tail=n)}prepend(e){const n=new t(e);this.head?(n.next=this.head,this.head=n):(this.head=n,this.tail=n)}size(){let t=0,e=this.head;for(;!this.head;)t++,e=e.next;return t}head(){return this.head?this.head:null}tail(){return this.tail?this.tail:null}at(t){if(t<0)return null;if(this.head){let e=this.head,n=0;for(;n<t;)n++,e=e.next;return e||null}}pop(){if(!this.tail)return console.log("No item to pop"),null;const t=this.tail.value;if(this.head===this.tail)return this.head=null,this.tail=null,t;let e=this.head;for(;e.next!==this.tail;)e=e.next;return e.next=null,this.tail=e,t}contains(t){let e=this.head;for(;null!==e.next;){if(e.value===t)return!0;e=e.next}return!1}find(t){let e=this.head,n=0;for(;e;){if(e.value===t)return n;e=e.next,n++}return-1}toString(){let t="";if(this.head){let e=this.head;for(;e;){if(null===e.next)return t+"null";t+=`( ${e.value} ) -> `,e=e.next}return t}return null}insertAt(e,n){if(n<0)return null;const i=new t(e);if(0===n)return i.next=this.head,this.head=i,this.tail||(this.tail=i),!0;let l=this.head,h=0;for(;l&&h<n-1;)l=l.next,h++;return!!l&&(i.next=l.next,l.next=i,i.next||(this.tail=i),!0)}removeAt(t){if(t<0||!this.head)return null;if(0===t){const t=this.head.value;return this.head=this.head.next,this.head||(this.tail=null),t}let e=this.head,n=0;for(;e.next&&n<t-1;)e=e.next,n++;if(!e.next)return null;const i=e.next.value;return e.next=e.next.next,e.next||(this.tail=e),i}};e.append(1),e.append(2),e.append(3),e.prepend(0),e.insertAt(1.5,2),console.log("LinkedList:",e.toString()),e.removeAt(2),console.log("LinkedList after removal:",e.toString()),e.removeAt(0),console.log("LinkedList after removing head:",e.toString()),e.removeAt(2),console.log("LinkedList after removing tail:",e.toString())})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Iiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBpZGVtby8uL3NyYy9saW5rZWRMaXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBOb2RlIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSl7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaW5rZWRMaXN0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5oZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy50YWlsID0gbnVsbDtcbiAgICB9XG5cbiAgICBhcHBlbmQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbmV3Tm9kZSA9IG5ldyBOb2RlKHZhbHVlKTtcbiAgICAgICAgaWYoIXRoaXMuaGVhZCl7XG4gICAgICAgICAgICAvLyBJZiB0aGUgbGlzdCBpcyBudWxsL2VtcHR5LCB0aGUgbmV3IG5vZGUgaXMgYm90aCB0aGUgaGVhZCBhbmQgdGFpbFxuICAgICAgICAgICAgdGhpcy5oZWFkID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIHRoaXMudGFpbCA9IG5ld05vZGU7XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGFpbC5uZXh0ID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIHRoaXMudGFpbCA9IG5ld05vZGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcmVwZW5kKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5ld05vZGUgPSBuZXcgTm9kZSh2YWx1ZSk7XG4gICAgICAgIGlmKCF0aGlzLmhlYWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IG5ld05vZGU7XG4gICAgICAgICAgICB0aGlzLnRhaWwgPSBuZXdOb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3Tm9kZS5uZXh0ID0gdGhpcy5oZWFkO1xuICAgICAgICAgICAgdGhpcy5oZWFkID0gbmV3Tm9kZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNpemUoKXtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBsZXQgY3VycmVudE5vZGUgPSB0aGlzLmhlYWQ7XG4gICAgICAgIHdoaWxlKCF0aGlzLmhlYWQpe1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpO1xuICAgIH1cblxuICAgIGhlYWQoKXtcbiAgICAgICAgaWYodGhpcy5oZWFkKXtcbiAgICAgICAgICAgIGNvbnN0IGhlYWROb2RlID0gdGhpcy5oZWFkO1xuICAgICAgICAgICAgcmV0dXJuIGhlYWROb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0YWlsKCl7XG4gICAgICAgIGlmKHRoaXMudGFpbCl7XG4gICAgICAgICAgICBjb25zdCB0YWlsTm9kZSA9IHRoaXMudGFpbDtcbiAgICAgICAgICAgIHJldHVybiB0YWlsTm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXQoaW5kZXgpe1xuICAgICAgICBpZiAoaW5kZXggPCAwKSByZXR1cm4gbnVsbDsgLy8gSW5kZXggc2hvdWxkIGJlIG5vbi1uZWdhdGl2ZVxuICAgICAgICBpZih0aGlzLmhlYWQpIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50Tm9kZSA9IHRoaXMuaGVhZDtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIHdoaWxlKGkgPCBpbmRleCl7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50Tm9kZSA/IGN1cnJlbnROb2RlIDogbnVsbDsgLy8gUmV0dXJuIHRoZSBub2RlIGlmIGZvdW5kLCBlbHNlIG51bGxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvcCgpe1xuICAgICAgICBpZiAoIXRoaXMudGFpbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJObyBpdGVtIHRvIHBvcFwiKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9wcGVkVmFsdWUgPSB0aGlzLnRhaWwudmFsdWU7XG5cbiAgICAgICAgaWYgKHRoaXMuaGVhZCA9PT0gdGhpcy50YWlsKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG9ubHkgb25lIG5vZGUgaW4gdGhlIGxpc3RcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnRhaWwgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHBvcHBlZFZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnROb2RlID0gdGhpcy5oZWFkO1xuICAgICAgICB3aGlsZShjdXJyZW50Tm9kZS5uZXh0ICE9PSB0aGlzLnRhaWwpe1xuICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdyBjdXJyZW50Tm9kZSBpcyB0aGUgc2Vjb25kLXRvLWxhc3Qgbm9kZVxuICAgICAgICBjdXJyZW50Tm9kZS5uZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy50YWlsID0gY3VycmVudE5vZGU7XG5cbiAgICAgICAgcmV0dXJuIHBvcHBlZFZhbHVlO1xuICAgIH1cblxuICAgIGNvbnRhaW5zKHZhbHVlKSB7XG4gICAgICAgIGxldCBjdXJyZW50Tm9kZSA9IHRoaXMuaGVhZDtcbiAgICAgICAgd2hpbGUoY3VycmVudE5vZGUubmV4dCAhPT0gbnVsbCl7XG4gICAgICAgICAgICBpZihjdXJyZW50Tm9kZS52YWx1ZSA9PT0gdmFsdWUpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZpbmQodmFsdWUpIHtcbiAgICAgICAgbGV0IGN1cnJlbnROb2RlID0gdGhpcy5oZWFkO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHdoaWxlKGN1cnJlbnROb2RlKXtcbiAgICAgICAgICAgIGlmKGN1cnJlbnROb2RlLnZhbHVlID09PSB2YWx1ZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLm5leHQ7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCl7XG4gICAgICAgIGxldCBvdXRwdXQgPSBcIlwiXG4gICAgICAgIGlmKCF0aGlzLmhlYWQpe1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudE5vZGUgPSB0aGlzLmhlYWQ7XG4gICAgICAgICAgICB3aGlsZShjdXJyZW50Tm9kZSl7XG4gICAgICAgICAgICAgICAgaWYoY3VycmVudE5vZGUubmV4dCA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXQgKz0gXCJudWxsXCIgO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCArPSBgKCAke2N1cnJlbnROb2RlLnZhbHVlfSApIC0+IGA7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbnNlcnRBdCh2YWx1ZSwgaW5kZXgpe1xuICAgICAgICBpZiAoaW5kZXggPCAwKSByZXR1cm4gbnVsbDtcblxuICAgICAgICBjb25zdCBuZXdOb2RlID0gbmV3IE5vZGUodmFsdWUpO1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gSW5zZXJ0IGF0IHRoZSBoZWFkXG4gICAgICAgICAgICBuZXdOb2RlLm5leHQgPSB0aGlzLmhlYWQ7XG4gICAgICAgICAgICB0aGlzLmhlYWQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRhaWwpIHtcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIGxpc3Qgd2FzIGVtcHR5LCB1cGRhdGUgdGhlIHRhaWwgYXMgd2VsbFxuICAgICAgICAgICAgICB0aGlzLnRhaWwgPSBuZXdOb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudE5vZGUgPSB0aGlzLmhlYWQ7XG4gICAgICAgIGxldCBpID0gMDtcblxuICAgICAgICB3aGlsZSAoY3VycmVudE5vZGUgJiYgaSA8IGluZGV4IC0gMSkge1xuICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5uZXh0O1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjdXJyZW50Tm9kZSkgcmV0dXJuIGZhbHNlOyAvLyBJbmRleCBpcyBvdXQgb2YgYm91bmRzXG4gICAgICAgIFxuICAgICAgICBuZXdOb2RlLm5leHQgPSBjdXJyZW50Tm9kZS5uZXh0O1xuICAgICAgICBjdXJyZW50Tm9kZS5uZXh0ID0gbmV3Tm9kZTtcbiAgICBcbiAgICAgICAgaWYgKCFuZXdOb2RlLm5leHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgbmV3IG5vZGUgaXMgaW5zZXJ0ZWQgYXQgdGhlIGVuZCwgdXBkYXRlIHRoZSB0YWlsXG4gICAgICAgICAgdGhpcy50YWlsID0gbmV3Tm9kZTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIFxuICAgIC8vIE1ldGhvZCB0byByZW1vdmUgYSBub2RlIGF0IGEgc3BlY2lmaWMgaW5kZXhcbiAgICByZW1vdmVBdChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8ICF0aGlzLmhlYWQpIHJldHVybiBudWxsOyAvLyBJbmRleCBpcyBpbnZhbGlkIG9yIGxpc3QgaXMgZW1wdHlcblxuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgaGVhZCBub2RlXG4gICAgICAgICAgICBjb25zdCByZW1vdmVkVmFsdWUgPSB0aGlzLmhlYWQudmFsdWU7XG4gICAgICAgICAgICB0aGlzLmhlYWQgPSB0aGlzLmhlYWQubmV4dDtcbiAgICAgICAgICAgIGlmICghdGhpcy5oZWFkKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGxpc3QgYmVjb21lcyBlbXB0eSwgdXBkYXRlIHRoZSB0YWlsXG4gICAgICAgICAgICAgICAgdGhpcy50YWlsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZW1vdmVkVmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudE5vZGUgPSB0aGlzLmhlYWQ7XG4gICAgICAgIGxldCBpID0gMDtcblxuICAgICAgICB3aGlsZSAoY3VycmVudE5vZGUubmV4dCAmJiBpIDwgaW5kZXggLSAxKSB7XG4gICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLm5leHQ7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWN1cnJlbnROb2RlLm5leHQpIHJldHVybiBudWxsOyAvLyBJbmRleCBpcyBvdXQgb2YgYm91bmRzXG5cbiAgICAgICAgY29uc3QgcmVtb3ZlZFZhbHVlID0gY3VycmVudE5vZGUubmV4dC52YWx1ZTtcbiAgICAgICAgY3VycmVudE5vZGUubmV4dCA9IGN1cnJlbnROb2RlLm5leHQubmV4dDtcblxuICAgICAgICBpZiAoIWN1cnJlbnROb2RlLm5leHQpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSByZW1vdmVkIG5vZGUgd2FzIHRoZSB0YWlsLCB1cGRhdGUgdGhlIHRhaWxcbiAgICAgICAgICAgIHRoaXMudGFpbCA9IGN1cnJlbnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlbW92ZWRWYWx1ZTtcbiAgICB9XG59XG5cbi8vIEV4YW1wbGUgdXNhZ2U6XG5jb25zdCBsaXN0ID0gbmV3IExpbmtlZExpc3QoKTtcbmxpc3QuYXBwZW5kKDEpO1xubGlzdC5hcHBlbmQoMik7XG5saXN0LmFwcGVuZCgzKTtcbmxpc3QucHJlcGVuZCgwKTtcblxubGlzdC5pbnNlcnRBdCgxLjUsIDIpO1xuY29uc29sZS5sb2coJ0xpbmtlZExpc3Q6JywgbGlzdC50b1N0cmluZygpKTsgLy8gT3V0cHV0OiAoIDAgKSAtPiAoIDEgKSAtPiAoIDEuNSApIC0+ICggMiApIC0+ICggMyApIC0+IG51bGxcblxubGlzdC5yZW1vdmVBdCgyKTtcbmNvbnNvbGUubG9nKCdMaW5rZWRMaXN0IGFmdGVyIHJlbW92YWw6JywgbGlzdC50b1N0cmluZygpKTsgLy8gT3V0cHV0OiAoIDAgKSAtPiAoIDEgKSAtPiAoIDIgKSAtPiAoIDMgKSAtPiBudWxsXG5cbmxpc3QucmVtb3ZlQXQoMCk7XG5jb25zb2xlLmxvZygnTGlua2VkTGlzdCBhZnRlciByZW1vdmluZyBoZWFkOicsIGxpc3QudG9TdHJpbmcoKSk7IC8vIE91dHB1dDogKCAxICkgLT4gKCAyICkgLT4gKCAzICkgLT4gbnVsbFxuXG5saXN0LnJlbW92ZUF0KDIpO1xuY29uc29sZS5sb2coJ0xpbmtlZExpc3QgYWZ0ZXIgcmVtb3ZpbmcgdGFpbDonLCBsaXN0LnRvU3RyaW5nKCkpOyAvLyBPdXRwdXQ6ICggMSApIC0+ICggMiApIC0+IG51bGwiXSwibmFtZXMiOlsiTm9kZSIsImNvbnN0cnVjdG9yIiwidmFsdWUiLCJ0aGlzIiwibmV4dCIsImxpc3QiLCJoZWFkIiwidGFpbCIsImFwcGVuZCIsIm5ld05vZGUiLCJwcmVwZW5kIiwic2l6ZSIsImkiLCJjdXJyZW50Tm9kZSIsImF0IiwiaW5kZXgiLCJwb3AiLCJjb25zb2xlIiwibG9nIiwicG9wcGVkVmFsdWUiLCJjb250YWlucyIsImZpbmQiLCJ0b1N0cmluZyIsIm91dHB1dCIsImluc2VydEF0IiwicmVtb3ZlQXQiLCJyZW1vdmVkVmFsdWUiXSwic291cmNlUm9vdCI6IiJ9